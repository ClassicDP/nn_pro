# Результаты тестирования NanoDet-M 192x192

## Сравнение разрешений

| Разрешение | Среднее время инференса | FPS | Качество (найдено авто) |
|------------|------------------------|-----|-------------------------|
| 192x192     | **20.2 ms**            | **49.6** | 30% (3/10) |
| 256x256     | 40.0 ms                | 25.0 | ~40% |
| 320x320     | 63.5 ms                | 15.8 | ~50% |

## Анализ узких мест

### Тест без оптимизации загрузки
- **Инференс**: 20.2 ms
- **Загрузка**: не измерялась отдельно

### Тест с профилированием
- **Инференс**: 22.9 ms
- **Загрузка**: 35.2 ms
- **Вывод**: Загрузка занимает больше времени, чем инференс!

### Тест с предварительным ресайзом до 800px
- **Инференс**: 143.9 ms (⚠ медленнее!)
- **Загрузка**: 38.9 ms
- **Ресайз**: 29.4 ms
- **Вывод**: Предварительный ресайз ЗАМЕДЛЯЕТ процесс

## Рекомендации по оптимизации

### ✅ Рекомендуется:

1. **Использовать разрешение 192x192**
   - Самый быстрый вариант (20ms)
   - Приемлемо для реального времени

2. **Предзагрузка изображений в память**
   - Загружать все изображения заранее
   - Устраняет задержки загрузки во время инференса

3. **Не делать предварительный ресайз**
   - Модель сама оптимизированно ресайзит до нужного размера
   - Предварительный ресайз только замедляет

### ❌ Не рекомендуется:

1. **Предварительный ресайз больших изображений**
   - Добавляет лишнее время
   - Модель сама делает оптимальный ресайз

2. **Загрузка изображений во время инференса**
   - Загрузка занимает больше времени, чем инференс
   - Нужна предзагрузка

## Итоговые рекомендации для реального времени

### Для каскадного подхода (3 сети):

1. **Первая сеть (детекция авто)**: NanoDet-M 192x192
   - Время: ~20ms
   - Качество: приемлемо для первого этапа
   - FPS: ~50

2. **Вторая сеть (детекция номера)**: на увеличенном ROI
   - Разрешение: 256x256 или 320x320
   - Время: ~40-60ms
   - Качество: выше, т.к. работает на меньшей области

3. **Третья сеть (распознавание символов)**: на номере
   - Разрешение: 200-300px
   - Время: зависит от модели

### Общее время каскада:
- Этап 1 (авто): 20ms
- Этап 2 (номер): 40-60ms
- Этап 3 (символы): ~20-30ms
- **Итого: ~80-110ms** (приемлемо для реального времени)

## Выводы

1. **192x192 - оптимальное разрешение** для первого этапа каскада
2. **Предзагрузка обязательна** - загрузка медленнее инференса
3. **Не делать предварительный ресайз** - модель сама оптимизирует
4. **Каскадный подход работает** - общее время <100ms возможно



